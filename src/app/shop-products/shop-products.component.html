<div class="shop-products-container">
    <div class="shop-products-actions">
        <app-filters [filterData]="filterData" [productData]="productData" (productDataChange)="onProductDataChange($event)" (filtersAppliedChange)="onFiltersAppliedChange($event)" [source]="source"></app-filters>
        <div class="sorting">
            <div class="dropdown" (mouseenter)="toggleSortingDropdown(true)" (mouseleave)="toggleSortingDropdown(false)" [class.show]="isSortDropdownOpen">
                <button class="btn btn-secondary dropdown-toggle sort-btn" type="button" mid="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
                Sort By <b>{{sortedByText}}</b>
                </button>
                <ul class="dropdown-menu sort-dropdown" aria-labelledby="dropdownMenuButton1" [class.show]="isSortDropdownOpen">
                    <li *ngFor="let item of sortOptions" (click)="sortItems($event, item.id, item.text)">
                        <a class="dropdown-item" [id]="item.id">{{ item.text }}</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <div class="applied-filters" *ngIf="filterApplied.length > 0">
        <span *ngFor="let filter of filterApplied">
            {{ filter }}
        </span>
    </div>
    <div *ngIf="isLoading" class="d-flex justify-content-center align-items-center" [class.spinner-visible]="isLoading">
        <div  class="spinner-border text-danger" role="status">
        </div>
    </div>
    <div class="product-list">
        <app-product-list [productData]="updatedProductData" (addToCartClicked)="updateProductData($event)"></app-product-list>
    </div>
</div>
